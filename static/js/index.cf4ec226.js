(()=>{"use strict";var e={3110:function(e,t,r){var n=r(6773),o=r(1699),a=r(8511),i=r(6834),l=r(1450),s=r(9519),u=r(638);let d=e=>{let{title:t,value:r,unit:o}=e;return(0,n.jsxs)("div",{style:{background:"#f5f5f5",borderRadius:"8px",padding:"15px",textAlign:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"0.9em",color:"#666"},children:t}),(0,n.jsxs)("div",{style:{fontSize:"1.8em",fontWeight:"bold"},children:[r,o&&(0,n.jsx)("span",{style:{fontSize:"0.6em",marginLeft:"2px"},children:o})]})]})};var h=r(7054),g=r(3768),c=r(3301),f=r(6460),x=r(4737),p=r(5409),y=r(2638),m=r(2393),v=r(9814);let j=e=>{var t,r,o,a;let{statsHistory:i}=e;return(0,n.jsxs)("div",{style:{width:"600px"},children:[(0,n.jsx)("h3",{children:"Current Statistics"}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px"},children:[(0,n.jsx)(d,{title:"Total Hares",value:(null===(t=i[i.length-1])||void 0===t?void 0:t.hares)||0}),(0,n.jsx)(d,{title:"Total Wolves",value:(null===(r=i[i.length-1])||void 0===r?void 0:r.wolves)||0}),(0,n.jsx)(d,{title:"Avg Hunger",value:(null===(o=i[i.length-1])||void 0===o?void 0:o.avgHunger)||0,unit:"%"}),(0,n.jsx)(d,{title:"Avg Thirst",value:(null===(a=i[i.length-1])||void 0===a?void 0:a.avgThirst)||0,unit:"%"})]}),(0,n.jsx)("h3",{style:{marginTop:"30px"},children:"Population Trends"}),(0,n.jsxs)(h.w,{width:600,height:300,data:i,margin:{top:5,right:30,left:20,bottom:5},children:[(0,n.jsx)(g.q,{strokeDasharray:"3 3"}),(0,n.jsx)(c.K,{dataKey:"timestamp",tickFormatter:e=>new Date(e).toLocaleTimeString()}),(0,n.jsx)(f.B,{}),(0,n.jsx)(x.u,{labelFormatter:e=>new Date(e).toLocaleTimeString()}),(0,n.jsx)(p.D,{}),(0,n.jsx)(y.x,{type:"monotone",dataKey:"hares",stroke:"#8884d8"}),(0,n.jsx)(y.x,{type:"monotone",dataKey:"wolves",stroke:"#82ca9d"})]}),(0,n.jsx)("h3",{style:{marginTop:"30px"},children:"Vital Stats"}),(0,n.jsxs)(m.v,{width:600,height:300,data:i.slice(-10),margin:{top:5,right:30,left:20,bottom:5},children:[(0,n.jsx)(g.q,{strokeDasharray:"3 3"}),(0,n.jsx)(c.K,{dataKey:"timestamp",tickFormatter:e=>new Date(e).toLocaleTimeString()}),(0,n.jsx)(f.B,{}),(0,n.jsx)(x.u,{labelFormatter:e=>new Date(e).toLocaleTimeString()}),(0,n.jsx)(p.D,{}),(0,n.jsx)(v.$,{dataKey:"avgHunger",fill:"#ff7300"}),(0,n.jsx)(v.$,{dataKey:"avgThirst",fill:"#0088fe"})]})]})},b=e=>({id:Math.random().toString(),type:e,x:Math.floor(50*Math.random()),y:Math.floor(50*Math.random()),hunger:100,thirst:100,health:100,state:"exploring",energy:100,age:0,reproductionCooldown:0,target:null}),w=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return t.filter(t=>t.id!==e.id&&Math.abs(t.x-e.x)<=r&&Math.abs(t.y-e.y)<=r)},M=(e,t,r)=>{let n=t.x-e.x,o=t.y-e.y;return e.x+=Math.sign(n),e.y+=Math.sign(o),e.x===t.x&&e.y===t.y&&(t.health-=30,e.hunger=Math.min(100,e.hunger+30),e.energy-=20),e},k=(e,t,r)=>{let n=t.x-e.x,o=t.y-e.y;return e.x-=Math.sign(n)||Math.floor(3*Math.random()-1),e.y-=Math.sign(o)||Math.floor(3*Math.random()-1),e.x=K(e.x,0,49),e.y=K(e.y,0,49),e.energy-=2,e},S=(e,t)=>e.hunger>80&&e.thirst>80&&e.reproductionCooldown<=0&&t.some(t=>t.type===e.type&&t.id!==e.id),O=(e,t)=>(e.reproductionCooldown=100,t.push({...b(e.type),x:e.x+P(),y:e.y+P(),hunger:50,thirst:50}),e),T=(e,t)=>{if("eating"===e.state){let r=t[e.y][e.x];r.resources.grass>0?(e.hunger=Math.min(100,e.hunger+10),r.resources.grass=Math.max(0,r.resources.grass-5)):e.state="exploring"}else"drinking"===e.state&&(t[e.y][e.x].resources.water?e.thirst=Math.min(100,e.thirst+10):e.state="exploring");return e},C=(e,t,r)=>{for(let n=-3;n<=3;n++)for(let o=-3;o<=3;o++){let a=t.x+o,i=t.y+n;if(D(e,a,i)&&e[i][a].resources[r]){t.x+=Math.sign(o),t.y+=Math.sign(n);return}}_(e,t)},_=(e,t)=>{let r=[{x:0,y:1},{x:1,y:0},{x:0,y:-1},{x:-1,y:0}],n=r[Math.floor(Math.random()*r.length)],o=t.x+n.x,a=t.y+n.y;D(e,o,a)&&(t.x=o,t.y=a)},D=(e,t,r)=>t>=0&&t<50&&r>=0&&r<50&&"rock"!==e[r][t].biome,F=(e,t)=>(e.hunger<50?(e.state="eating",C(t,e,"grass")):e.thirst<50?(e.state="drinking",C(t,e,"water")):(e.state="exploring",_(t,e)),e),K=(e,t,r)=>Math.max(t,Math.min(r,e)),P=()=>Math.floor(3*Math.random()-1),Z=e=>{switch(e){case"grassland":return"#9bcc50";case"forest":return"#2d5a27";case"water":return"#4287f5";case"rock":return"#808080";default:return"#fff"}},E=()=>{let[e,t]=(0,o.useState)([]),[r,a]=(0,o.useState)([]),[i,d]=(0,o.useState)(!1),[h,g]=(0,o.useState)([]),c=(0,o.useCallback)(e=>{let t={timestamp:Date.now(),hares:e.filter(e=>"hare"===e.type).length,wolves:e.filter(e=>"wolf"===e.type).length,avgHunger:parseInt(Number(e.reduce((e,t)=>e+t.hunger,0)/e.length||0).toFixed(2)),avgThirst:parseInt(Number(e.reduce((e,t)=>e+t.thirst,0)/e.length||0).toFixed(2))};g(e=>[...e.slice(-100),t])},[]);(0,o.useEffect)(()=>{(()=>{let e=[];for(let t=0;t<50;t++){e[t]=[];for(let r=0;r<50;r++){let n=Math.random(),o="grassland";n<.15?o="forest":n<.2?o="water":n<.25&&(o="rock"),e[t][r]={biome:o,resources:{grass:100*("grassland"===o),water:"water"===o}}}}t(e)})()},[]),(0,o.useEffect)(()=>{let e=[];for(let t=0;t<10;t++)e.push(b("hare")),e.push(b("wolf"));a(e)},[]);let f=(0,o.useCallback)(()=>{a(t=>{let r=[];return[...t.map(n=>{let o={...n};if(o.age+=1,o.energy=Math.max(0,o.energy-1),o.hunger=Math.max(0,o.hunger-("wolf"===o.type?3:1)),o.thirst=Math.max(0,o.thirst-2),o.reproductionCooldown=Math.max(0,o.reproductionCooldown-1),o.health<=0||o.hunger<=0||o.thirst<=0||o.age>1e3)return null;let a=w(o,t),i=a.filter(e=>e.type!==o.type),l=a.filter(e=>"wolf"===o.type&&"hare"===e.type);return i.length>0&&"wolf"!==o.type?(o.state="fleeing",o.target=i[0].id,k(o,i[0],e)):l.length>0&&"wolf"===o.type&&o.energy>30?(o.state="hunting",o.target=l[0].id,M(o,l[0],e)):"eating"===o.state||"drinking"===o.state?T(o,e):S(o,a)?O(o,r):F(o,e)}).filter(Boolean),...r]})},[e]);return(0,o.useEffect)(()=>{if(!i)return;c(r);let e=setInterval(()=>{f()},1e3);return()=>clearInterval(e)},[i,f,c,r]),(0,n.jsxs)(l.Z,{direction:"row",style:{gap:"20px",padding:"20px"},children:[(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(u.Z,{onClick:()=>d(!i),children:i?"Stop":"Start"}),(0,n.jsx)(s.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(50, 12px)",gap:"1px",marginTop:"20px"},children:e.map((e,t)=>e.map((e,o)=>{let a=r.find(e=>e.x===o&&e.y===t);return(0,n.jsx)(s.Z,{sx:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:14,height:14,backgroundColor:Z(e.biome),fontSize:10,textAlign:"center","&::before":{position:"absolute",width:"100%",height:"100%",content:"''",border:(null==a?void 0:a.state)==="hunting"?"2px solid red":(null==a?void 0:a.state)==="fleeing"?"2px solid orange":(null==a?void 0:a.state)==="mating"?"2px solid pink":"none"}},children:(null==a?void 0:a.type)==="hare"?"\uD83D\uDC07":(null==a?void 0:a.type)==="wolf"?"\uD83D\uDC3A":""},`${o}-${t}`)}))})]}),(0,n.jsx)(j,{statsHistory:h})]})};var H=r(6851),I=r(7414);let z=(0,H.Z)((0,I.Z)({typography:{htmlFontSize:16}})),L=document.getElementById("root");L&&a.createRoot(L).render((0,n.jsx)(o.StrictMode,{children:(0,n.jsx)(()=>(0,n.jsx)(i.Z,{theme:z,children:(0,n.jsx)(E,{})}),{})}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};r.t=function(n,o){if(1&o&&(n=this(n)),8&o||"object"==typeof n&&n&&(4&o&&n.__esModule||16&o&&"function"==typeof n.then))return n;var a=Object.create(null);r.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&o&&n;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(function(e){i[e]=function(){return n[e]}});return i.default=function(){return n},r.d(a,i),a}})(),r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},(()=>{var e=[];r.O=function(t,n,o,a){if(n){a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[n,o,a];return}for(var l=1/0,i=0;i<e.length;i++){for(var n=e[i][0],o=e[i][1],a=e[i][2],s=!0,u=0;u<n.length;u++)(!1&a||l>=a)&&Object.keys(r.O).every(function(e){return r.O[e](n[u])})?n.splice(u--,1):(s=!1,a<l&&(l=a));if(s){e.splice(i--,1);var d=o();void 0!==d&&(t=d)}}return t}})(),r.rv=function(){return"1.2.3"},(()=>{var e={980:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,i=n[0],l=n[1],s=n[2],u=0;if(i.some(function(t){return 0!==e[t]})){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(s)var d=s(r)}for(t&&t(n);u<i.length;u++)a=i[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},n=self.webpackChunkrsbuild_react_ts=self.webpackChunkrsbuild_react_ts||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.ruid="bundler=rspack@1.2.3";var n=r.O(void 0,["869","361","751"],function(){return r(3110)});n=r.O(n)})();